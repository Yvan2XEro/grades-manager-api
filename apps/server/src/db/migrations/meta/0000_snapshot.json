{
  "id": "78843acf-b383-4d3d-ba18-67831c0b2178",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.academic_years": {
      "name": "academic_years",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_academic_years_institution": {
          "name": "idx_academic_years_institution",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "academic_years_institution_id_institutions_id_fk": {
          "name": "academic_years_institution_id_institutions_id_fk",
          "tableFrom": "academic_years",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_academic_years_institution_name": {
          "name": "uq_academic_years_institution_name",
          "nullsNotDistinct": false,
          "columns": [
            "institution_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_academic_years_dates": {
          "name": "chk_academic_years_dates",
          "value": "\"academic_years\".\"end_date\" > \"academic_years\".\"start_date\""
        }
      },
      "isRLSEnabled": false
    },
    "public.class_course_access_logs": {
      "name": "class_course_access_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_course_id": {
          "name": "class_course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_profile_id": {
          "name": "actor_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_delegate": {
          "name": "is_delegate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_class_course_access_institution": {
          "name": "idx_class_course_access_institution",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_course_access_actor": {
          "name": "idx_class_course_access_actor",
          "columns": [
            {
              "expression": "actor_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_course_access_course": {
          "name": "idx_class_course_access_course",
          "columns": [
            {
              "expression": "class_course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "class_course_access_logs_institution_id_institutions_id_fk": {
          "name": "class_course_access_logs_institution_id_institutions_id_fk",
          "tableFrom": "class_course_access_logs",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_course_access_logs_class_course_id_class_courses_id_fk": {
          "name": "class_course_access_logs_class_course_id_class_courses_id_fk",
          "tableFrom": "class_course_access_logs",
          "tableTo": "class_courses",
          "columnsFrom": [
            "class_course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_course_access_logs_actor_profile_id_domain_users_id_fk": {
          "name": "class_course_access_logs_actor_profile_id_domain_users_id_fk",
          "tableFrom": "class_course_access_logs",
          "tableTo": "domain_users",
          "columnsFrom": [
            "actor_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.class_courses": {
      "name": "class_courses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "semester_id": {
          "name": "semester_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weekly_hours": {
          "name": "weekly_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_class_courses_institution_id": {
          "name": "idx_class_courses_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_courses_class_id": {
          "name": "idx_class_courses_class_id",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_courses_course_id": {
          "name": "idx_class_courses_course_id",
          "columns": [
            {
              "expression": "course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_courses_teacher_id": {
          "name": "idx_class_courses_teacher_id",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_courses_semester_id": {
          "name": "idx_class_courses_semester_id",
          "columns": [
            {
              "expression": "semester_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "class_courses_institution_id_institutions_id_fk": {
          "name": "class_courses_institution_id_institutions_id_fk",
          "tableFrom": "class_courses",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_courses_class_id_classes_id_fk": {
          "name": "class_courses_class_id_classes_id_fk",
          "tableFrom": "class_courses",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_courses_course_id_courses_id_fk": {
          "name": "class_courses_course_id_courses_id_fk",
          "tableFrom": "class_courses",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_courses_teacher_id_domain_users_id_fk": {
          "name": "class_courses_teacher_id_domain_users_id_fk",
          "tableFrom": "class_courses",
          "tableTo": "domain_users",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "class_courses_semester_id_semesters_id_fk": {
          "name": "class_courses_semester_id_semesters_id_fk",
          "tableFrom": "class_courses",
          "tableTo": "semesters",
          "columnsFrom": [
            "semester_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_class_courses": {
          "name": "uq_class_courses",
          "nullsNotDistinct": false,
          "columns": [
            "class_id",
            "course_id"
          ]
        },
        "uq_class_courses_code": {
          "name": "uq_class_courses_code",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.classes": {
      "name": "classes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "semester_id": {
          "name": "semester_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cycle_level_id": {
          "name": "cycle_level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_option_id": {
          "name": "program_option_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_classes_institution_id": {
          "name": "idx_classes_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_program_id": {
          "name": "idx_classes_program_id",
          "columns": [
            {
              "expression": "program_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_academic_year_id": {
          "name": "idx_classes_academic_year_id",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_semester_id": {
          "name": "idx_classes_semester_id",
          "columns": [
            {
              "expression": "semester_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_cycle_level_id": {
          "name": "idx_classes_cycle_level_id",
          "columns": [
            {
              "expression": "cycle_level_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_program_option_id": {
          "name": "idx_classes_program_option_id",
          "columns": [
            {
              "expression": "program_option_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "classes_institution_id_institutions_id_fk": {
          "name": "classes_institution_id_institutions_id_fk",
          "tableFrom": "classes",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "classes_program_id_programs_id_fk": {
          "name": "classes_program_id_programs_id_fk",
          "tableFrom": "classes",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "classes_academic_year_id_academic_years_id_fk": {
          "name": "classes_academic_year_id_academic_years_id_fk",
          "tableFrom": "classes",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "classes_semester_id_semesters_id_fk": {
          "name": "classes_semester_id_semesters_id_fk",
          "tableFrom": "classes",
          "tableTo": "semesters",
          "columnsFrom": [
            "semester_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "classes_cycle_level_id_cycle_levels_id_fk": {
          "name": "classes_cycle_level_id_cycle_levels_id_fk",
          "tableFrom": "classes",
          "tableTo": "cycle_levels",
          "columnsFrom": [
            "cycle_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "classes_program_option_id_program_options_id_fk": {
          "name": "classes_program_option_id_program_options_id_fk",
          "tableFrom": "classes",
          "tableTo": "program_options",
          "columnsFrom": [
            "program_option_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_classes_name_program_year": {
          "name": "uq_classes_name_program_year",
          "nullsNotDistinct": false,
          "columns": [
            "name",
            "program_id",
            "academic_year_id"
          ]
        },
        "uq_classes_code_year": {
          "name": "uq_classes_code_year",
          "nullsNotDistinct": false,
          "columns": [
            "code",
            "academic_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.course_prerequisites": {
      "name": "course_prerequisites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prerequisite_course_id": {
          "name": "prerequisite_course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_course_prereq_course": {
          "name": "idx_course_prereq_course",
          "columns": [
            {
              "expression": "course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_course_prereq_requirement": {
          "name": "idx_course_prereq_requirement",
          "columns": [
            {
              "expression": "prerequisite_course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "course_prerequisites_course_id_courses_id_fk": {
          "name": "course_prerequisites_course_id_courses_id_fk",
          "tableFrom": "course_prerequisites",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "course_prerequisites_prerequisite_course_id_courses_id_fk": {
          "name": "course_prerequisites_prerequisite_course_id_courses_id_fk",
          "tableFrom": "course_prerequisites",
          "tableTo": "courses",
          "columnsFrom": [
            "prerequisite_course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_course_prereq_pair": {
          "name": "uq_course_prereq_pair",
          "nullsNotDistinct": false,
          "columns": [
            "course_id",
            "prerequisite_course_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.courses": {
      "name": "courses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hours": {
          "name": "hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teaching_unit_id": {
          "name": "teaching_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_teacher_id": {
          "name": "default_teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_courses_program_id": {
          "name": "idx_courses_program_id",
          "columns": [
            {
              "expression": "program_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_courses_teaching_unit_id": {
          "name": "idx_courses_teaching_unit_id",
          "columns": [
            {
              "expression": "teaching_unit_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_courses_default_teacher_id": {
          "name": "idx_courses_default_teacher_id",
          "columns": [
            {
              "expression": "default_teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "courses_program_id_programs_id_fk": {
          "name": "courses_program_id_programs_id_fk",
          "tableFrom": "courses",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "courses_teaching_unit_id_teaching_units_id_fk": {
          "name": "courses_teaching_unit_id_teaching_units_id_fk",
          "tableFrom": "courses",
          "tableTo": "teaching_units",
          "columnsFrom": [
            "teaching_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "courses_default_teacher_id_domain_users_id_fk": {
          "name": "courses_default_teacher_id_domain_users_id_fk",
          "tableFrom": "courses",
          "tableTo": "domain_users",
          "columnsFrom": [
            "default_teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_courses_name_program": {
          "name": "uq_courses_name_program",
          "nullsNotDistinct": false,
          "columns": [
            "name",
            "program_id"
          ]
        },
        "uq_courses_code_program": {
          "name": "uq_courses_code_program",
          "nullsNotDistinct": false,
          "columns": [
            "code",
            "program_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_courses_hours": {
          "name": "chk_courses_hours",
          "value": "\"courses\".\"hours\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.cycle_levels": {
      "name": "cycle_levels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "cycle_id": {
          "name": "cycle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "min_credits": {
          "name": "min_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        }
      },
      "indexes": {
        "idx_cycle_levels_cycle": {
          "name": "idx_cycle_levels_cycle",
          "columns": [
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cycle_levels_cycle_id_study_cycles_id_fk": {
          "name": "cycle_levels_cycle_id_study_cycles_id_fk",
          "tableFrom": "cycle_levels",
          "tableTo": "study_cycles",
          "columnsFrom": [
            "cycle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_cycle_levels_code": {
          "name": "uq_cycle_levels_code",
          "nullsNotDistinct": false,
          "columns": [
            "cycle_id",
            "code"
          ]
        },
        "uq_cycle_levels_order": {
          "name": "uq_cycle_levels_order",
          "nullsNotDistinct": false,
          "columns": [
            "cycle_id",
            "order_index"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.domain_users": {
      "name": "domain_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "auth_user_id": {
          "name": "auth_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_id": {
          "name": "member_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "business_role": {
          "name": "business_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "primary_email": {
          "name": "primary_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "place_of_birth": {
          "name": "place_of_birth",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nationality": {
          "name": "nationality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_domain_users_role": {
          "name": "idx_domain_users_role",
          "columns": [
            {
              "expression": "business_role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "domain_users_auth_user_id_user_id_fk": {
          "name": "domain_users_auth_user_id_user_id_fk",
          "tableFrom": "domain_users",
          "tableTo": "user",
          "columnsFrom": [
            "auth_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "domain_users_member_id_member_id_fk": {
          "name": "domain_users_member_id_member_id_fk",
          "tableFrom": "domain_users",
          "tableTo": "member",
          "columnsFrom": [
            "member_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_domain_users_auth": {
          "name": "uq_domain_users_auth",
          "nullsNotDistinct": false,
          "columns": [
            "auth_user_id"
          ]
        },
        "uq_domain_users_member": {
          "name": "uq_domain_users_member",
          "nullsNotDistinct": false,
          "columns": [
            "member_id"
          ]
        },
        "uq_domain_users_email": {
          "name": "uq_domain_users_email",
          "nullsNotDistinct": false,
          "columns": [
            "primary_email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enrollment_windows": {
      "name": "enrollment_windows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'closed'"
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_enrollment_window_status": {
          "name": "idx_enrollment_window_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "enrollment_windows_class_id_classes_id_fk": {
          "name": "enrollment_windows_class_id_classes_id_fk",
          "tableFrom": "enrollment_windows",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollment_windows_academic_year_id_academic_years_id_fk": {
          "name": "enrollment_windows_academic_year_id_academic_years_id_fk",
          "tableFrom": "enrollment_windows",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_enrollment_window_class_year": {
          "name": "uq_enrollment_window_class_year",
          "nullsNotDistinct": false,
          "columns": [
            "class_id",
            "academic_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enrollments": {
      "name": "enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "exited_at": {
          "name": "exited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "admission_type": {
          "name": "admission_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "transfer_institution": {
          "name": "transfer_institution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_credits": {
          "name": "transfer_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "transfer_level": {
          "name": "transfer_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admission_justification": {
          "name": "admission_justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admission_date": {
          "name": "admission_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "admission_metadata": {
          "name": "admission_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_enrollments_institution_id": {
          "name": "idx_enrollments_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_student_id": {
          "name": "idx_enrollments_student_id",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_class_id": {
          "name": "idx_enrollments_class_id",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_year_id": {
          "name": "idx_enrollments_year_id",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_admission_type": {
          "name": "idx_enrollments_admission_type",
          "columns": [
            {
              "expression": "admission_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "enrollments_institution_id_institutions_id_fk": {
          "name": "enrollments_institution_id_institutions_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollments_student_id_students_id_fk": {
          "name": "enrollments_student_id_students_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollments_class_id_classes_id_fk": {
          "name": "enrollments_class_id_classes_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollments_academic_year_id_academic_years_id_fk": {
          "name": "enrollments_academic_year_id_academic_years_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exam_grade_editors": {
      "name": "exam_grade_editors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "exam_id": {
          "name": "exam_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "editor_profile_id": {
          "name": "editor_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "granted_by_profile_id": {
          "name": "granted_by_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_exam_grade_editors_exam": {
          "name": "idx_exam_grade_editors_exam",
          "columns": [
            {
              "expression": "exam_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_exam_grade_editors_editor": {
          "name": "idx_exam_grade_editors_editor",
          "columns": [
            {
              "expression": "editor_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "exam_grade_editors_exam_id_exams_id_fk": {
          "name": "exam_grade_editors_exam_id_exams_id_fk",
          "tableFrom": "exam_grade_editors",
          "tableTo": "exams",
          "columnsFrom": [
            "exam_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "exam_grade_editors_editor_profile_id_domain_users_id_fk": {
          "name": "exam_grade_editors_editor_profile_id_domain_users_id_fk",
          "tableFrom": "exam_grade_editors",
          "tableTo": "domain_users",
          "columnsFrom": [
            "editor_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "exam_grade_editors_granted_by_profile_id_domain_users_id_fk": {
          "name": "exam_grade_editors_granted_by_profile_id_domain_users_id_fk",
          "tableFrom": "exam_grade_editors",
          "tableTo": "domain_users",
          "columnsFrom": [
            "granted_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_exam_grade_editor": {
          "name": "uq_exam_grade_editor",
          "nullsNotDistinct": false,
          "columns": [
            "exam_id",
            "editor_profile_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exam_schedule_runs": {
      "name": "exam_schedule_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "exam_type_id": {
          "name": "exam_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "percentage": {
          "name": "percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "date_start": {
          "name": "date_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "date_end": {
          "name": "date_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "class_ids": {
          "name": "class_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "class_count": {
          "name": "class_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "class_course_count": {
          "name": "class_course_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_count": {
          "name": "created_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "skipped_count": {
          "name": "skipped_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "duplicate_count": {
          "name": "duplicate_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "conflict_count": {
          "name": "conflict_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_by": {
          "name": "scheduled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_exam_schedule_runs_institution": {
          "name": "idx_exam_schedule_runs_institution",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_exam_schedule_runs_year": {
          "name": "idx_exam_schedule_runs_year",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_exam_schedule_runs_type": {
          "name": "idx_exam_schedule_runs_type",
          "columns": [
            {
              "expression": "exam_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "exam_schedule_runs_institution_id_institutions_id_fk": {
          "name": "exam_schedule_runs_institution_id_institutions_id_fk",
          "tableFrom": "exam_schedule_runs",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "exam_schedule_runs_academic_year_id_academic_years_id_fk": {
          "name": "exam_schedule_runs_academic_year_id_academic_years_id_fk",
          "tableFrom": "exam_schedule_runs",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "exam_schedule_runs_exam_type_id_exam_types_id_fk": {
          "name": "exam_schedule_runs_exam_type_id_exam_types_id_fk",
          "tableFrom": "exam_schedule_runs",
          "tableTo": "exam_types",
          "columnsFrom": [
            "exam_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "exam_schedule_runs_scheduled_by_domain_users_id_fk": {
          "name": "exam_schedule_runs_scheduled_by_domain_users_id_fk",
          "tableFrom": "exam_schedule_runs",
          "tableTo": "domain_users",
          "columnsFrom": [
            "scheduled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exam_types": {
      "name": "exam_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_exam_types_institution_id": {
          "name": "idx_exam_types_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "exam_types_institution_id_institutions_id_fk": {
          "name": "exam_types_institution_id_institutions_id_fk",
          "tableFrom": "exam_types",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_exam_types_name_institution": {
          "name": "uq_exam_types_name_institution",
          "nullsNotDistinct": false,
          "columns": [
            "institution_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exams": {
      "name": "exams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "percentage": {
          "name": "percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "class_course_id": {
          "name": "class_course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_locked": {
          "name": "is_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "scheduled_by": {
          "name": "scheduled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validated_by": {
          "name": "validated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_run_id": {
          "name": "schedule_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_exams_institution_id": {
          "name": "idx_exams_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_exams_class_course_id": {
          "name": "idx_exams_class_course_id",
          "columns": [
            {
              "expression": "class_course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_exams_date": {
          "name": "idx_exams_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "exams_institution_id_institutions_id_fk": {
          "name": "exams_institution_id_institutions_id_fk",
          "tableFrom": "exams",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "exams_class_course_id_class_courses_id_fk": {
          "name": "exams_class_course_id_class_courses_id_fk",
          "tableFrom": "exams",
          "tableTo": "class_courses",
          "columnsFrom": [
            "class_course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "exams_scheduled_by_domain_users_id_fk": {
          "name": "exams_scheduled_by_domain_users_id_fk",
          "tableFrom": "exams",
          "tableTo": "domain_users",
          "columnsFrom": [
            "scheduled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "exams_validated_by_domain_users_id_fk": {
          "name": "exams_validated_by_domain_users_id_fk",
          "tableFrom": "exams",
          "tableTo": "domain_users",
          "columnsFrom": [
            "validated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "exams_schedule_run_id_exam_schedule_runs_id_fk": {
          "name": "exams_schedule_run_id_exam_schedule_runs_id_fk",
          "tableFrom": "exams",
          "tableTo": "exam_schedule_runs",
          "columnsFrom": [
            "schedule_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "chk_exams_percentage": {
          "name": "chk_exams_percentage",
          "value": "\"exams\".\"percentage\" >= 0 AND \"exams\".\"percentage\" <= 100"
        }
      },
      "isRLSEnabled": false
    },
    "public.export_templates": {
      "name": "export_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "template_body": {
          "name": "template_body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_export_templates_institution": {
          "name": "idx_export_templates_institution",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_export_templates_type": {
          "name": "idx_export_templates_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "export_templates_institution_id_institutions_id_fk": {
          "name": "export_templates_institution_id_institutions_id_fk",
          "tableFrom": "export_templates",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "export_templates_created_by_domain_users_id_fk": {
          "name": "export_templates_created_by_domain_users_id_fk",
          "tableFrom": "export_templates",
          "tableTo": "domain_users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "export_templates_updated_by_domain_users_id_fk": {
          "name": "export_templates_updated_by_domain_users_id_fk",
          "tableFrom": "export_templates",
          "tableTo": "domain_users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_export_templates_institution_name": {
          "name": "uq_export_templates_institution_name",
          "nullsNotDistinct": false,
          "columns": [
            "institution_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grade_edit_logs": {
      "name": "grade_edit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "exam_id": {
          "name": "exam_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "class_course_id": {
          "name": "class_course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "grade_id": {
          "name": "grade_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_profile_id": {
          "name": "actor_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_role": {
          "name": "actor_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_delegate": {
          "name": "is_delegate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "score_before": {
          "name": "score_before",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "score_after": {
          "name": "score_after",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_grade_edit_logs_exam": {
          "name": "idx_grade_edit_logs_exam",
          "columns": [
            {
              "expression": "exam_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grade_edit_logs_actor": {
          "name": "idx_grade_edit_logs_actor",
          "columns": [
            {
              "expression": "actor_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grade_edit_logs_institution": {
          "name": "idx_grade_edit_logs_institution",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "grade_edit_logs_institution_id_institutions_id_fk": {
          "name": "grade_edit_logs_institution_id_institutions_id_fk",
          "tableFrom": "grade_edit_logs",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "grade_edit_logs_exam_id_exams_id_fk": {
          "name": "grade_edit_logs_exam_id_exams_id_fk",
          "tableFrom": "grade_edit_logs",
          "tableTo": "exams",
          "columnsFrom": [
            "exam_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "grade_edit_logs_class_course_id_class_courses_id_fk": {
          "name": "grade_edit_logs_class_course_id_class_courses_id_fk",
          "tableFrom": "grade_edit_logs",
          "tableTo": "class_courses",
          "columnsFrom": [
            "class_course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "grade_edit_logs_student_id_students_id_fk": {
          "name": "grade_edit_logs_student_id_students_id_fk",
          "tableFrom": "grade_edit_logs",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "grade_edit_logs_grade_id_grades_id_fk": {
          "name": "grade_edit_logs_grade_id_grades_id_fk",
          "tableFrom": "grade_edit_logs",
          "tableTo": "grades",
          "columnsFrom": [
            "grade_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "grade_edit_logs_actor_profile_id_domain_users_id_fk": {
          "name": "grade_edit_logs_actor_profile_id_domain_users_id_fk",
          "tableFrom": "grade_edit_logs",
          "tableTo": "domain_users",
          "columnsFrom": [
            "actor_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grades": {
      "name": "grades",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "exam_id": {
          "name": "exam_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_grades_student_id": {
          "name": "idx_grades_student_id",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grades_exam_id": {
          "name": "idx_grades_exam_id",
          "columns": [
            {
              "expression": "exam_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "grades_student_id_students_id_fk": {
          "name": "grades_student_id_students_id_fk",
          "tableFrom": "grades",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "grades_exam_id_exams_id_fk": {
          "name": "grades_exam_id_exams_id_fk",
          "tableFrom": "grades",
          "tableTo": "exams",
          "columnsFrom": [
            "exam_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_grades_student_exam": {
          "name": "uq_grades_student_exam",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "exam_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.institutions": {
      "name": "institutions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'institution'"
        },
        "short_name": {
          "name": "short_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name_fr": {
          "name": "name_fr",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_en": {
          "name": "name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legal_name_fr": {
          "name": "legal_name_fr",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "legal_name_en": {
          "name": "legal_name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slogan_fr": {
          "name": "slogan_fr",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slogan_en": {
          "name": "slogan_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description_fr": {
          "name": "description_fr",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description_en": {
          "name": "description_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_fr": {
          "name": "address_fr",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_en": {
          "name": "address_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fax": {
          "name": "fax",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_box": {
          "name": "postal_box",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cover_image_url": {
          "name": "cover_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_institution_id": {
          "name": "parent_institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_academic_year_id": {
          "name": "default_academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_format_id": {
          "name": "registration_format_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "institutions_parent_institution_id_institutions_id_fk": {
          "name": "institutions_parent_institution_id_institutions_id_fk",
          "tableFrom": "institutions",
          "tableTo": "institutions",
          "columnsFrom": [
            "parent_institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "institutions_organization_id_organization_id_fk": {
          "name": "institutions_organization_id_organization_id_fk",
          "tableFrom": "institutions",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "institutions_default_academic_year_id_academic_years_id_fk": {
          "name": "institutions_default_academic_year_id_academic_years_id_fk",
          "tableFrom": "institutions",
          "tableTo": "academic_years",
          "columnsFrom": [
            "default_academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "institutions_registration_format_id_registration_number_formats_id_fk": {
          "name": "institutions_registration_format_id_registration_number_formats_id_fk",
          "tableFrom": "institutions",
          "tableTo": "registration_number_formats",
          "columnsFrom": [
            "registration_format_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_institutions_code": {
          "name": "uq_institutions_code",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "recipient_id": {
          "name": "recipient_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'email'"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notifications_recipient": {
          "name": "idx_notifications_recipient",
          "columns": [
            {
              "expression": "recipient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_status": {
          "name": "idx_notifications_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_recipient_id_domain_users_id_fk": {
          "name": "notifications_recipient_id_domain_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "domain_users",
          "columnsFrom": [
            "recipient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.program_options": {
      "name": "program_options",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_program_options_program_id": {
          "name": "idx_program_options_program_id",
          "columns": [
            {
              "expression": "program_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_program_options_institution_id": {
          "name": "idx_program_options_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "program_options_institution_id_institutions_id_fk": {
          "name": "program_options_institution_id_institutions_id_fk",
          "tableFrom": "program_options",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "program_options_program_id_programs_id_fk": {
          "name": "program_options_program_id_programs_id_fk",
          "tableFrom": "program_options",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_program_options_program_code": {
          "name": "uq_program_options_program_code",
          "nullsNotDistinct": false,
          "columns": [
            "program_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.programs": {
      "name": "programs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_programs_institution_id": {
          "name": "idx_programs_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "programs_institution_id_institutions_id_fk": {
          "name": "programs_institution_id_institutions_id_fk",
          "tableFrom": "programs",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_programs_name_institution": {
          "name": "uq_programs_name_institution",
          "nullsNotDistinct": false,
          "columns": [
            "name",
            "institution_id"
          ]
        },
        "uq_programs_code_institution": {
          "name": "uq_programs_code_institution",
          "nullsNotDistinct": false,
          "columns": [
            "code",
            "institution_id"
          ]
        },
        "uq_programs_slug_institution": {
          "name": "uq_programs_slug_institution",
          "nullsNotDistinct": false,
          "columns": [
            "slug",
            "institution_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.promotion_execution_results": {
      "name": "promotion_execution_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "execution_id": {
          "name": "execution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "was_promoted": {
          "name": "was_promoted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "evaluation_data": {
          "name": "evaluation_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "rules_matched": {
          "name": "rules_matched",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_promotion_results_execution": {
          "name": "idx_promotion_results_execution",
          "columns": [
            {
              "expression": "execution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_results_student": {
          "name": "idx_promotion_results_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_results_promoted": {
          "name": "idx_promotion_results_promoted",
          "columns": [
            {
              "expression": "was_promoted",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "promotion_execution_results_execution_id_promotion_executions_id_fk": {
          "name": "promotion_execution_results_execution_id_promotion_executions_id_fk",
          "tableFrom": "promotion_execution_results",
          "tableTo": "promotion_executions",
          "columnsFrom": [
            "execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "promotion_execution_results_student_id_students_id_fk": {
          "name": "promotion_execution_results_student_id_students_id_fk",
          "tableFrom": "promotion_execution_results",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_promotion_results_execution_student": {
          "name": "uq_promotion_results_execution_student",
          "nullsNotDistinct": false,
          "columns": [
            "execution_id",
            "student_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.promotion_executions": {
      "name": "promotion_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rule_id": {
          "name": "rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_class_id": {
          "name": "source_class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_class_id": {
          "name": "target_class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "executed_by": {
          "name": "executed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "students_evaluated": {
          "name": "students_evaluated",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "students_promoted": {
          "name": "students_promoted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_promotion_executions_rule": {
          "name": "idx_promotion_executions_rule",
          "columns": [
            {
              "expression": "rule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_executions_source_class": {
          "name": "idx_promotion_executions_source_class",
          "columns": [
            {
              "expression": "source_class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_executions_target_class": {
          "name": "idx_promotion_executions_target_class",
          "columns": [
            {
              "expression": "target_class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_executions_year": {
          "name": "idx_promotion_executions_year",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_executions_executor": {
          "name": "idx_promotion_executions_executor",
          "columns": [
            {
              "expression": "executed_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "promotion_executions_rule_id_promotion_rules_id_fk": {
          "name": "promotion_executions_rule_id_promotion_rules_id_fk",
          "tableFrom": "promotion_executions",
          "tableTo": "promotion_rules",
          "columnsFrom": [
            "rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "promotion_executions_source_class_id_classes_id_fk": {
          "name": "promotion_executions_source_class_id_classes_id_fk",
          "tableFrom": "promotion_executions",
          "tableTo": "classes",
          "columnsFrom": [
            "source_class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "promotion_executions_target_class_id_classes_id_fk": {
          "name": "promotion_executions_target_class_id_classes_id_fk",
          "tableFrom": "promotion_executions",
          "tableTo": "classes",
          "columnsFrom": [
            "target_class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "promotion_executions_academic_year_id_academic_years_id_fk": {
          "name": "promotion_executions_academic_year_id_academic_years_id_fk",
          "tableFrom": "promotion_executions",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "promotion_executions_executed_by_domain_users_id_fk": {
          "name": "promotion_executions_executed_by_domain_users_id_fk",
          "tableFrom": "promotion_executions",
          "tableTo": "domain_users",
          "columnsFrom": [
            "executed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.promotion_rules": {
      "name": "promotion_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_class_id": {
          "name": "source_class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cycle_level_id": {
          "name": "cycle_level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ruleset": {
          "name": "ruleset",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_promotion_rules_institution_id": {
          "name": "idx_promotion_rules_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_rules_source_class": {
          "name": "idx_promotion_rules_source_class",
          "columns": [
            {
              "expression": "source_class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_rules_program": {
          "name": "idx_promotion_rules_program",
          "columns": [
            {
              "expression": "program_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_rules_cycle_level": {
          "name": "idx_promotion_rules_cycle_level",
          "columns": [
            {
              "expression": "cycle_level_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_promotion_rules_active": {
          "name": "idx_promotion_rules_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "promotion_rules_institution_id_institutions_id_fk": {
          "name": "promotion_rules_institution_id_institutions_id_fk",
          "tableFrom": "promotion_rules",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "promotion_rules_source_class_id_classes_id_fk": {
          "name": "promotion_rules_source_class_id_classes_id_fk",
          "tableFrom": "promotion_rules",
          "tableTo": "classes",
          "columnsFrom": [
            "source_class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "promotion_rules_program_id_programs_id_fk": {
          "name": "promotion_rules_program_id_programs_id_fk",
          "tableFrom": "promotion_rules",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "promotion_rules_cycle_level_id_cycle_levels_id_fk": {
          "name": "promotion_rules_cycle_level_id_cycle_levels_id_fk",
          "tableFrom": "promotion_rules",
          "tableTo": "cycle_levels",
          "columnsFrom": [
            "cycle_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.registration_number_counters": {
      "name": "registration_number_counters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "format_id": {
          "name": "format_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_key": {
          "name": "scope_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_value": {
          "name": "last_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_registration_counter_format_id": {
          "name": "idx_registration_counter_format_id",
          "columns": [
            {
              "expression": "format_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "registration_number_counters_format_id_registration_number_formats_id_fk": {
          "name": "registration_number_counters_format_id_registration_number_formats_id_fk",
          "tableFrom": "registration_number_counters",
          "tableTo": "registration_number_formats",
          "columnsFrom": [
            "format_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_registration_counter_scope": {
          "name": "uq_registration_counter_scope",
          "nullsNotDistinct": false,
          "columns": [
            "format_id",
            "scope_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.registration_number_formats": {
      "name": "registration_number_formats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "definition": {
          "name": "definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_registration_formats_active": {
          "name": "idx_registration_formats_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_registration_formats_institution_id": {
          "name": "idx_registration_formats_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "registration_number_formats_institution_id_institutions_id_fk": {
          "name": "registration_number_formats_institution_id_institutions_id_fk",
          "tableFrom": "registration_number_formats",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.semesters": {
      "name": "semesters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_semesters_order": {
          "name": "idx_semesters_order",
          "columns": [
            {
              "expression": "order_index",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_semesters_code": {
          "name": "uq_semesters_code",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_course_enrollments": {
      "name": "student_course_enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_course_id": {
          "name": "class_course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_class_id": {
          "name": "source_class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "attempt": {
          "name": "attempt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "credits_attempted": {
          "name": "credits_attempted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "credits_earned": {
          "name": "credits_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_student_course_student": {
          "name": "idx_student_course_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_course_class_course": {
          "name": "idx_student_course_class_course",
          "columns": [
            {
              "expression": "class_course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_course_course": {
          "name": "idx_student_course_course",
          "columns": [
            {
              "expression": "course_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_course_year": {
          "name": "idx_student_course_year",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_course_enrollments_student_id_students_id_fk": {
          "name": "student_course_enrollments_student_id_students_id_fk",
          "tableFrom": "student_course_enrollments",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_course_enrollments_class_course_id_class_courses_id_fk": {
          "name": "student_course_enrollments_class_course_id_class_courses_id_fk",
          "tableFrom": "student_course_enrollments",
          "tableTo": "class_courses",
          "columnsFrom": [
            "class_course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_course_enrollments_course_id_courses_id_fk": {
          "name": "student_course_enrollments_course_id_courses_id_fk",
          "tableFrom": "student_course_enrollments",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_course_enrollments_source_class_id_classes_id_fk": {
          "name": "student_course_enrollments_source_class_id_classes_id_fk",
          "tableFrom": "student_course_enrollments",
          "tableTo": "classes",
          "columnsFrom": [
            "source_class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "student_course_enrollments_academic_year_id_academic_years_id_fk": {
          "name": "student_course_enrollments_academic_year_id_academic_years_id_fk",
          "tableFrom": "student_course_enrollments",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_student_course_attempt": {
          "name": "uq_student_course_attempt",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "course_id",
            "academic_year_id",
            "attempt"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_credit_ledgers": {
      "name": "student_credit_ledgers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "credits_in_progress": {
          "name": "credits_in_progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credits_earned": {
          "name": "credits_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "required_credits": {
          "name": "required_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_student_credit_ledgers_student": {
          "name": "idx_student_credit_ledgers_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_credit_ledgers_year": {
          "name": "idx_student_credit_ledgers_year",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_credit_ledgers_student_id_students_id_fk": {
          "name": "student_credit_ledgers_student_id_students_id_fk",
          "tableFrom": "student_credit_ledgers",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_credit_ledgers_academic_year_id_academic_years_id_fk": {
          "name": "student_credit_ledgers_academic_year_id_academic_years_id_fk",
          "tableFrom": "student_credit_ledgers",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_student_credit_ledgers_student_year": {
          "name": "uq_student_credit_ledgers_student_year",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "academic_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_promotion_summaries": {
      "name": "student_promotion_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "registration_number": {
          "name": "registration_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_name": {
          "name": "class_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_code": {
          "name": "program_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "overall_average": {
          "name": "overall_average",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "overall_average_unweighted": {
          "name": "overall_average_unweighted",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "success_rate": {
          "name": "success_rate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unit_validation_rate": {
          "name": "unit_validation_rate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credits_earned": {
          "name": "credits_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credits_earned_this_year": {
          "name": "credits_earned_this_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credits_attempted": {
          "name": "credits_attempted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credits_in_progress": {
          "name": "credits_in_progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "required_credits": {
          "name": "required_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credit_completion_rate": {
          "name": "credit_completion_rate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credit_deficit": {
          "name": "credit_deficit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credit_success_rate": {
          "name": "credit_success_rate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "performance_index": {
          "name": "performance_index",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_on_track": {
          "name": "is_on_track",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "progression_rate": {
          "name": "progression_rate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "projected_credits_end_of_year": {
          "name": "projected_credits_end_of_year",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "can_reach_required_credits": {
          "name": "can_reach_required_credits",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "failed_teaching_units_count": {
          "name": "failed_teaching_units_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "eliminatory_failures": {
          "name": "eliminatory_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "scores_below_8": {
          "name": "scores_below_8",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "admission_type": {
          "name": "admission_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "is_transfer_student": {
          "name": "is_transfer_student",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_direct_admission": {
          "name": "is_direct_admission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_academic_history": {
          "name": "has_academic_history",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "transfer_credits": {
          "name": "transfer_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "transfer_institution": {
          "name": "transfer_institution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_level": {
          "name": "transfer_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "averages_by_teaching_unit": {
          "name": "averages_by_teaching_unit",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "averages_by_course": {
          "name": "averages_by_course",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "facts": {
          "name": "facts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_student_promotion_summary_year": {
          "name": "idx_student_promotion_summary_year",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_promotion_summary_class": {
          "name": "idx_student_promotion_summary_class",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_promotion_summary_program": {
          "name": "idx_student_promotion_summary_program",
          "columns": [
            {
              "expression": "program_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_promotion_summary_ontrack": {
          "name": "idx_student_promotion_summary_ontrack",
          "columns": [
            {
              "expression": "is_on_track",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_promotion_summaries_student_id_students_id_fk": {
          "name": "student_promotion_summaries_student_id_students_id_fk",
          "tableFrom": "student_promotion_summaries",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_promotion_summaries_academic_year_id_academic_years_id_fk": {
          "name": "student_promotion_summaries_academic_year_id_academic_years_id_fk",
          "tableFrom": "student_promotion_summaries",
          "tableTo": "academic_years",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_promotion_summaries_class_id_classes_id_fk": {
          "name": "student_promotion_summaries_class_id_classes_id_fk",
          "tableFrom": "student_promotion_summaries",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_promotion_summaries_program_id_programs_id_fk": {
          "name": "student_promotion_summaries_program_id_programs_id_fk",
          "tableFrom": "student_promotion_summaries",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_student_promotion_summary": {
          "name": "uq_student_promotion_summary",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "academic_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.students": {
      "name": "students",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain_user_id": {
          "name": "domain_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "registration_number": {
          "name": "registration_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_students_institution_id": {
          "name": "idx_students_institution_id",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_class_id": {
          "name": "idx_students_class_id",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_domain_user_id": {
          "name": "idx_students_domain_user_id",
          "columns": [
            {
              "expression": "domain_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "students_institution_id_institutions_id_fk": {
          "name": "students_institution_id_institutions_id_fk",
          "tableFrom": "students",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "students_domain_user_id_domain_users_id_fk": {
          "name": "students_domain_user_id_domain_users_id_fk",
          "tableFrom": "students",
          "tableTo": "domain_users",
          "columnsFrom": [
            "domain_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "students_class_id_classes_id_fk": {
          "name": "students_class_id_classes_id_fk",
          "tableFrom": "students",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_students_registration": {
          "name": "uq_students_registration",
          "nullsNotDistinct": false,
          "columns": [
            "registration_number"
          ]
        },
        "uq_students_domain_user": {
          "name": "uq_students_domain_user",
          "nullsNotDistinct": false,
          "columns": [
            "domain_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.study_cycles": {
      "name": "study_cycles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "institution_id": {
          "name": "institution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_credits_required": {
          "name": "total_credits_required",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 180
        },
        "duration_years": {
          "name": "duration_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_study_cycles_institution": {
          "name": "idx_study_cycles_institution",
          "columns": [
            {
              "expression": "institution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "study_cycles_institution_id_institutions_id_fk": {
          "name": "study_cycles_institution_id_institutions_id_fk",
          "tableFrom": "study_cycles",
          "tableTo": "institutions",
          "columnsFrom": [
            "institution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_study_cycles_institution_code": {
          "name": "uq_study_cycles_institution_code",
          "nullsNotDistinct": false,
          "columns": [
            "institution_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teaching_units": {
      "name": "teaching_units",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credits": {
          "name": "credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "semester": {
          "name": "semester",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'annual'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_teaching_units_program_id": {
          "name": "idx_teaching_units_program_id",
          "columns": [
            {
              "expression": "program_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "teaching_units_program_id_programs_id_fk": {
          "name": "teaching_units_program_id_programs_id_fk",
          "tableFrom": "teaching_units",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_teaching_units_program_code": {
          "name": "uq_teaching_units_program_code",
          "nullsNotDistinct": false,
          "columns": [
            "program_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "account_userId_idx": {
          "name": "account_userId_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invitation": {
      "name": "invitation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "inviter_id": {
          "name": "inviter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "invitation_organization_id_organization_id_fk": {
          "name": "invitation_organization_id_organization_id_fk",
          "tableFrom": "invitation",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invitation_inviter_id_user_id_fk": {
          "name": "invitation_inviter_id_user_id_fk",
          "tableFrom": "invitation",
          "tableTo": "user",
          "columnsFrom": [
            "inviter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.member": {
      "name": "member",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "member_organization_id_organization_id_fk": {
          "name": "member_organization_id_organization_id_fk",
          "tableFrom": "member",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "member_user_id_user_id_fk": {
          "name": "member_user_id_user_id_fk",
          "tableFrom": "member",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization": {
      "name": "organization",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organization_slug_unique": {
          "name": "organization_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impersonated_by": {
          "name": "impersonated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active_organization_id": {
          "name": "active_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "session_userId_idx": {
          "name": "session_userId_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "banned": {
          "name": "banned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ban_reason": {
          "name": "ban_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ban_expires": {
          "name": "ban_expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "verification_identifier_idx": {
          "name": "verification_identifier_idx",
          "columns": [
            {
              "expression": "identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}